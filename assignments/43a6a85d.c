#include <string.h>
#include <stdio.h>
#include <stdlib.h>
typedef struct _1 {
  int _19;
  int _23;
} _17;
char** _21;
int _15(const void *_16, const void *_18);
int main(int _2, char** _3) {
  char* _6 = NULL;
  size_t _4 = 0;
  ssize_t _5 = getdelim(&_6,&_4,EOF,stdin);
  long _7=0;
  int _14,_9;
  int _13=1;
  for(_14=0;_14<_5;_14++) {
    if(_6[_14]=='\n' || _6[_14] == '\r') {
      _6[_14]='\0';
      _13++;
      while(_6[_14]=='\n' || _6[_14]=='\r') {
        _14++;
      }
    }
  }
  if(_6[_5-1]!='\0')
    _13++;
  _21 = (char**)malloc(_13*sizeof(char*));
  _13 = 0;
  _7=0;
  for(_14=0;_14<_5;_14++) {
    if(_6[_14]=='\0') {
      for(_9=0;_9<_13-1;_9++) {
        if(strcmp(_21[_9],(char*)(_6+_7))==0) {
          break;
        }
      }
      if(_13==0 || _9==_13-1) {
        _21[_13++]=strcpy(malloc((strlen((char*)(_7+_6))+1)*sizeof(char)),(char*)(_7+_6));
      }
      while(_6[_14]=='\0') {
        _14++;
      }
      _7=_14;
    }
  }
  if(_6[_5-1]!='\0') {
    for(_9=0;_9<_13-1;_9++) {
      if(strcmp(_21[_9],(char*)(_6+_7))==0) {
        break;
      }
    }
    if(_13==0 || _9==_13-1) {
      _21[_13++]=strcpy(malloc((strlen((char*)(_7+_6))+1)*sizeof(char)),(char*)(_7+_6));
    }
  }
  char _16 = 1;
  int* _10 = malloc(_13*_13*sizeof(int));
  memset(_10,0,_13*_13*sizeof(int));
  _17* _12 = malloc(_13*sizeof(_17));
  memset(_12,0,_13*sizeof(_17));
  int _8=-1;
  _7=0;
  for(_14=0;_14<_5;_14++) {
    if(_6[_14]=='\0') {
      for(_9=0;_9<_13;_9++) {
        if(strcmp(_21[_9],(char*)(_6+_7))==0) {
          break;
        }
      }
      if(_9==_13) {
        printf("CHECK PROBLEM\n");
      }
      if(_8==-1) {
        _8 = _9;
      } else {
        _10[_8*_13+_9]=1;
        _8 = -1;
      }
      _7=_14;
      while(_6[_14]=='\0') {
        _7++;
        _14++;
      }
    }
  }
  if(_6[_5-1]!='\0') {
    for(_9=0;_9<_13;_9++) {
      if(strcmp(_21[_9],(char*)(_6+_7))==0) {
        break;
      }
    }
    if(_9==_13) {
      printf("CHECK PROBLEM\n");
    }
    if(_8==-1) {
      _8 = _9;
    } else {
      _10[_8*_13+_9]=1;
      _8 = -1;
    }
  }
  for(_14=0;_14<_13;_14++) {
    _9=0;
    while(_16=_21[_14][_9++]) {
      if(_16==EOF || _16=='\r' || _16==13)
        _21[_14][_9-1] = '\0';
    }
  }
  for(_14=0;_14<_13;_14++) {
    _12[_14]._23 = _14;
    for(_9=0;_9<_13;_9++) {
      _12[_14]._19+=_10[_14*_13+_9];
    }
  }
  int _11 = _13;
  while(_13>0) {
    qsort(_12,_13, sizeof(_17), _15);
    printf("%s\r\n",_21[_12[0]._23]);
    for(_14=1;_14<_13;_14++) {
      if(_10[_12[0]._23+_11*_12[_14]._23]==1) {
        _12[_14]._19--;
      }
    }
    _13--;
    _12=_12+1;
    for(_14=0;_14<_13;_14++) {
    }
  }
  return 0;
}
int _15(const void *_16, const void *_18) {
  _17* _20 = (_17*)_16;
  _17* _22 = (_17*)_18;
  if(_20->_19!=_22->_19)
    return _20->_19-_22->_19;
  return strcmp(_21[_20->_23],_21[_22->_23]);
}
