#include <stdio.h>
#include <stdlib.h>
#include <string.h>
typedef struct _23 _23;
struct _23 {
  char* _34;
  int _26;
  _23** _30;
  int _24;
  int _25;
};
int _13(_23* _20, int _1, char* _34) {
  int _33;
  for (_33=0; _33<_1; _33++) {
    if (strcmp(_20[_33]._34, _34) == 0) {
      return _33;
    }
  }
  return -1;
}
int _22(const void* _2, const void* _3) {
  _23** _4 = (_23**)_2;
  _23** _5 = (_23**)_3;
  return strcmp((*_4)->_34, (*_5)->_34);
}
int main(int _6, char** _7) {
  char** _12 = malloc(sizeof(char*));
  int _11 = 0;
  while (1) {
    char _8[256];
    fgets(_8, sizeof(_8), stdin);
    if (feof(stdin)) break;
    _11++;
    _12 = realloc(_12, _11 * sizeof(char*));
    _12[_11 - 1] = malloc(sizeof(char) * (strlen(_8) + 1));
    _8[strlen(_8) - 1] = '\0';
    strcpy(_12[_11 - 1], _8);
  }
  int _33, _9, _10;
  int _21 = 0;
  _23* _20 = malloc(_11 * sizeof(_23));
  for (_33=0; _33<_11; _33+= 2) {
    char* _14 = _12[_33+1];
    char* _15 = _12[_33];
    int _17 = _13(_20, _21, _14);
    int _18 = _13(_20, _21, _15);
    if (_17 == -1) {
      _21++;
      _23* _16 = &_20[_21 - 1];
      _16->_34 = _14;
      _16->_25 = 0;
      _16->_26 = 0;
      _16->_30 = malloc(sizeof(_23*));
      _16->_24 = 0;
      _17 = _21 - 1;
    }
    if (_18 == -1) {
      _21++;
      _23* _16 = &_20[_21 - 1];
      _16->_34 = _15;
      _16->_25 = 0;
      _16->_26 = 0;
      _16->_30 = malloc(sizeof(_23*));
      _16->_24 = 0;
      _18 = _21 - 1;
    }
    _20[_17]._24++;
    _20[_17]._30 = realloc(_20[_17]._30, sizeof(_23*) * _20[_17]._24);
    _20[_17]._30[_20[_17]._24 - 1] = &_20[_18];
    _20[_18]._26++;
  }
  _23** _19 = malloc(_21 * sizeof(_23*));
  _23** _27 = _19;
  int _28 = 0;
  for (_33=0; _33<_21; _33++) {
    if (_20[_33]._26 == 0) {
      _28++;
      _27[_28-1] = &_20[_33];
    }
  }
  _23** _32 = malloc(_21 * sizeof(_23*));
  int _31 = 0;
  while (_31 < _21) {
    if (_28 == 0) {
      printf("cycle\n");
      exit(0);
    }
    qsort(_27, _28, sizeof(_23*), _22);
    _23* _29 = _27[0];
    _27 += 1;
    _28 -= 1;
    _29->_25 = 1;
    _31++;
    _32[_31 - 1] = _29;
    for (_33=0; _33<_29->_24; _33++) {
      if (_29->_30[_33]->_25) {
        continue;
      }
      _29->_30[_33]->_26 -= 1;
      if (_29->_30[_33]->_26 == 0) {
        _28++;
        _27[_28 - 1] = _29->_30[_33];
      }
    }
  }
  for (_33=0; _33<_31; _33++) {
    printf("%s\n", _32[_33]->_34);
  }
  return 0;
}
