#include <stdio.h>
#include <string.h>
#include <stdlib.h>
#define _30 0
#define _29 1
#define _33 2
struct _1 {
  char *_4;
  struct _1 *_6;
};
struct _39
{
  char *_51;
  int _49;
  int _32;
  char** _20;
  char** _38;
  int _21;
  int _41;
};
int _54(const void *_55, const void *_56);
void _9(struct _39 **_36, int _19, char **_11, int *_44);
void _34(struct _39 **_36, char **_53, int *_52, int *_44);
void _37(struct _39 *_40, struct _39 **_47, char **_53, int *_52, int *_44);
int _28(struct _39 **_36, int *_44);
int _31(struct _39 **_36, struct _39 *_40, int *_44);
int main()
{
  struct _1 *_5 = NULL;
  int _19 = 0;
  while(1) {
    char _2[80];
    fgets(_2, sizeof(_2), stdin);
    if(feof(stdin)) break;
    {
      struct _1 *_3 = malloc(sizeof(*_3));
      _3 -> _4 = strdup(_2);
      _3 -> _6 = _5;
      _5 = _3;
      _19++;
    }
  }
  {
    char **_11;
    int _43 = _19-1;
    _11 = malloc(_19 * sizeof(*_11));
    while(_5 != NULL) {
      _11[_43] = _5->_4;
      _43--;
      _5 = _5->_6;
    }
    struct _39 **_36;
    _36 = malloc(_19 * sizeof(struct _39));
    int _7 = 0;
    int *_44 = &_7;
    _9(_36, _19, _11, _44);
    if(_28(_36, _44) == 1) {
      printf("cycle\n");
      return 0;
    }
    char **_53;
    _53 = malloc(*_44 * sizeof(*_53));
    int _8 = 0;
    int *_52 = &_8;
    _34(_36, _53, _52, _44);
  }
  return 0;
}
void _9(struct _39 **_36, int _19, char **_11, int *_44) {
  char _51[60], _10[60];
  char *_26, *_23;
  int _43 = 0;
  for(_43=0; _43<_19; _43++) {
    if(_43 % 2 == 0) {
      _26 = (char *) malloc(60);
      strcpy(_26, _11[_43]);
      size_t _12 = strlen(_26) - 1;
      if (_26[_12] == '\n')
        _26[_12] = '\0';
    } else {
      _23 = (char *) malloc(60);
      strcpy(_23, _11[_43]);
      size_t _12 = strlen(_23) - 1;
      if (_23[_12] == '\n')
        _23[_12] = '\0';
      int _13 = 0;
      int _48 = 0;
      for(_48=0; _48<*_44; _48++) {
        char *_24 = _36[_48]->_51;
        if(strcmp(_23, _24) == 0) {
          _13 = 1;
        }
      }
      if(_13 == 0) {
        struct _39 *_14 =
          (struct _39*)malloc(sizeof(struct _39));
        _14->_51 = (char*)malloc(60);
        _14->_51 = _23;
        _14->_49 = 0;
        _14->_20 = malloc(_19 * sizeof(*(_14->_20)));
        _14->_38 = malloc(_19 * sizeof(*(_14->_38)));
        _14->_21 = 0;
        _14->_41 = 0;
        _14->_32 = _30;
        _36[*_44] = _14;
        *_44 += 1;
      }
      int _16 = 0;
      int _17 = 0;
      int _15 = 0;
      for(_15=0; _15<*_44; _15++) {
        char *_24 = _36[_15]->_51;
        if(strcmp(_26, _24) == 0) {
          _16 = 1;
          _17 = _15;
        }
      }
      if(_16 == 1) {
        struct _39 *_18 = _36[_17];
        (_18->_20)[_18->_21] = _23;
        _18->_49 += 1;
        _18->_21 += 1;
        _36[_17] = _18;
        int _27 = 0;
        int _25 = 0;
        for(_25=0; _25<*_44; _25++) {
          char *_24 = _36[_25]->_51;
          if(strcmp(_23, _24) == 0) {
            _27 = _25;
          }
        }
        (_36[_27]->_38)[_36[_27]->_41] = _26;
        _36[_27]->_41 += 1;
      } else {
        struct _39 *_22 =
          (struct _39*)malloc(sizeof(struct _39));
        _22->_51 = (char*) malloc(60);
        _22->_51 = _26;
        _22->_49 = 1;
        _22->_20 = malloc(_19 * sizeof(*(_22->_20)));
        _22->_38 = malloc(_19 * sizeof(*(_22->_38)));
        (_22->_20)[_22->_21] = _23;
        _22->_21 = 1;
        _22->_41 = 0;
        _22->_32 = _30;
        _36[*_44] = _22;
        *_44 += 1;
        int _27 = 0;
        int _25 = 0;
        for(_25=0; _25<*_44; _25++) {
          char *_24 = _36[_25]->_51;
          if(strcmp(_23, _24) == 0) {
            _27 = _25;
          }
        }
        (_36[_27]->_38)[_36[_27]->_41] = _26;
        _36[_27]->_41 += 1;
      }
    }
  }
}
int _28(struct _39 **_36, int *_44) {
  int _43=0;
  for(_43=0; _43<*_44; _43++) {
    _36[_43]->_32 = _30;
  }
  _43 = 0;
  for(_43=0; _43<*_44; _43++) {
    struct _39 *_35 = _36[_43];
    if(_35->_32 == _30) {
      if(_31(_36, _35, _44) == 1) {
        return 1;
      }
    }
  }
  return 0;
}
int _31(struct _39 **_36, struct _39 *_40, int *_44) {
  _40->_32 = _29;
  char **_42 = _40->_38;
  int _43 = 0;
  for(_43=0; _43<_40->_41; _43++) {
    char *_45 = _42[_43];
    struct _39 *_35;
    int _48;
    for(_48=0; _48<*_44; _48++) {
      if(strcmp(_45, _36[_48]->_51) == 0) {
        _35 = _36[_48];
      }
    }
    if(_35->_32 == _29) {
      return 1;
    } else if(_35->_32 == _30) {
      if(_31(_36, _35, _44)) {
        return 1;
      }
    }
  }
  _40->_32 = _33;
  return 0;
}
void _34(struct _39 **_36, char **_53, int *_52, int *_44) {
  int _43;
  for(_43=0; _43<*_44; _43++) {
    struct _39* _35 = _36[_43];
    if(_35->_49 == 0) {
      _53[*_52] = _35->_51;
      *_52 += 1;
    }
  }
  qsort(_53, *_52, sizeof(*_53), _54);
  while(*_52 > 0) {
    char *_51 = _53[0];
    int _43;
    for(_43=0; _43<*_52-1; _43++) {
      _53[_43] = _53[_43+1];
    }
    *_52 -= 1;
    printf("%s\n", _51);
    for(_43=0; _43<*_44; _43++) {
      struct _39 *_40;
      if(strcmp(_51, _36[_43]->_51) == 0) {
        struct _39 *_40 = _36[_43];
        _37(_40, _36, _53, _52, _44);
        int _48;
        for(_48=_43; _48<*_44-1; _48++) {
          _36[_48] = _36[_48+1];
        }
        *_44 -= 1;
      }
    }
  }
}
void _37(struct _39 *_40, struct _39 **_47, char **_53, int *_52, int *_44) {
  char **_42 = _40->_38;
  struct _39 *_50;
  if(_40->_41 > 0) {
    int _43;
    for(_43=0; _43<_40->_41; _43++) {
      char *_45 = _42[_43];
      int _48;
      for(_48=0; _48<*_44; _48++) {
        char *_46 = _47[_48]->_51;
        if(strcmp(_45, _46) == 0) {
          _50 = _47[_48];
        }
      }
      _50->_49 -= 1;
      if(_50->_49 == 0) {
        _53[*_52] = _50->_51;
        *_52 += 1;
      }
    }
  }
  qsort(_53, *_52, sizeof(*_53), _54);
}
int _54(const void *_55, const void *_56) {
  char *_57 = *(char **)_55;
  char *_58 = *(char **)_56;
  return strcmp(_57, _58);
}
