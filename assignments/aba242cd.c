#include <string.h>
#include <stdlib.h>
#include <stdio.h>
typedef struct {
  char _49[75];
} _2;
typedef struct {
  _2* _32;
  _2* _33;
} _3;
typedef union {
  _2* _48;
  _3* _35;
} _4;
typedef struct _43 {
  struct _43* _8;
  struct _43* _15;
  _4* _47;
} _43;
typedef struct {
  _43* _42;
} _38;
_43* _29(char _49[75]) {
  _2* _1 = malloc(sizeof(_2));
  strcpy(_1->_49, _49);
  _4* _47 = malloc(sizeof(_4));
  _47->_48 = _1;
  _43* _7 = malloc(sizeof(_43));
  _7->_47 = _47;
  _7->_8 = NULL;
  _7->_15 = NULL;
  return _7;
}
_43* _31(_2* _32, _2* _33) {
  _3* _5 = malloc(sizeof(_3));
  _5->_32 = _32;
  _5->_33 = _33;
  _4* _47 = malloc(sizeof(_4));
  _47->_35 = _5;
  _43* _7 = malloc(sizeof(_43));
  _7->_47 = _47;
  _7->_8 = NULL;
  _7->_15 = NULL;
  return _7;
}
_38* _17() {
  _38* _6 = malloc(sizeof(_38));
  _6->_42 = NULL;
  return _6;
}
void _34(_38* _20, _43* _7) {
  if (_20->_42 == NULL) {
    _20->_42 = _7;
  }
  else {
    _43* _9 = _20->_42;
    while (_9->_15 != NULL) {
      _9 = _9->_15;
    }
    _9->_15 = _7;
    _7->_8 = _9;
  }
}
void _14(_38* _20, _43* _9) {
  if (_9->_8 != NULL) {
    _9->_8->_15 = _9->_15;
  }
  else {
    _20->_42 = _9->_15;
  }
  if (_9->_15 != NULL) {
    _9->_15->_8 = _9->_8;
  }
  _9->_8 = NULL;
  _9->_15 = NULL;
}
_43* _44(_38* _20, _43* _9) {
  if (_9 == NULL) {
    return _20->_42;
  }
  else return _9->_15;
}
_38* _18(_38* _40, _38* _41, _38* _16) {
  if (_40->_42 == NULL) {
    return _16;
  }
  _43* _13 = NULL;
  _43* _12 = NULL;
  while (_12 = _44(_40, _12)) {
    int _11 = 0;
    _43* _10 = NULL;
    while (_10 = _44(_41, _10)) {
      if (_10->_47->_35->_33 == _12->_47->_48) {
        _11++;
      }
    }
    if (_11 == 0) {
      if (_13 == NULL) {
        _13 = _12;
      }
      else if (strcmp(_12->_47->_48->_49,
                      _13->_47->_48->_49) < 0) {
        _13 = _12;
      }
    }
  }
  if (_13 == NULL) {
    _16->_42 = NULL;
    return _16;
  }
  else {
    _14(_40, _13);
    _34(_16, _13);
    _43* _46 = NULL;
    while (_46 = _44(_41, _46)) {
      if (_46->_47->_35->_32 == _13->_47->_48) {
        _43* _15 = _46->_15;
        _14(_41, _46);
        if (_15 != NULL) {
          _46 = _46->_15;
        }
        else break;
      }
    }
    return _18(_40, _41, _16);
  }
}
_38* _39(_38* _40, _38* _41) {
  _38* _19 = _17();
  _19->_42 = NULL;
  return _18(_40, _41, _19);
}
_43* _27(_38* _20, char* _49) {
  _43* _46 = NULL;
  while (_46 = _44(_20, _46)) {
    if (strcmp(_46->_47->_48->_49, _49) == 0) {
      return _46;
    }
  }
  return NULL;
}
void _25(char* _22, int _21) {
  int _23;
  for (_23=0; _23 < _21; _23++) {
    if (_22[_23] == '\n' || _22[_23] == '\t') {
      _22[_23] = '\0';
    }
  }
}
int main() {
  _38 _40;
  _40._42 = NULL;
  _38 _41;
  _41._42 = NULL;
  char* _28 = NULL;
  char* _30 = NULL;
  size_t _26;
  ssize_t _37;
  int _36 = 0;
  int _24 = 0;
  while (_24 == 0) {
    if (!_36) {
      _37 = getline(&_30, &_26, stdin);
      _25(_30, _26);
      _36 = 1;
      if (_37 == -1) {
        _24 = 1;
      }
    }
    else {
      _37 = getline(&_28, &_26, stdin);
      _25(_28, _26);
      _43* _32 = _27(&_40, _28);
      _43* _33 = _27(&_40, _30);
      if (_32 == NULL) {
        _32 = _29(_28);
        _34(&_40, _32);
      }
      if (_33 == NULL) {
        _33 = _29(_30);
        _34(&_40, _33);
      }
      _43* _35 = _31(_32->_47->_48, _33->_47->_48);
      _34(&_41, _35);
      _36 = 0;
      _37 = -1;
    }
  }
  _38* _45 = _39(&_40, &_41);
  if (_45->_42 == NULL) {
    printf("cycle\n");
  }
  else {
    _43* _46 = NULL;
    while (_46 = _44(_45, _46)) {
      printf("%s\n", _46->_47->_48->_49);
    }
  }
  return 0;
}
